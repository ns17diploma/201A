<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>List</title>
	<style>
		#listTable {
			width: 100%;
			border: solid 1px black;
		}
		#listTable tr td {
			border: solid 1px black;
		}
	</style>
</head>
<body>
	<div id="main">
		<table>
			<tr>
				<th>No.</th>
				<th>Fist Name</th>
				<th>Last Name</th>
				<th>Gender</th>
				<th>Birth</th>
				<th>Address</th>
				<th>Postcode</th>
				<th>Membership Number</th>
				<th>Type of Membership</th>
				<th>Join Date</th>
				<th>Subscription Month</th>
			</tr>
		</table>
		<table id="listTable">
			
		</table>
	</div>
	<div id="allBtn"></div>
</body>
<script>
	var $ = require('jquery')
	var jsf = require('jsonfile')
	var chunk = require('chunk')
	var file = './all-Member/data.json'

	$(function(){
		let allMembers = jsf.readFileSync(file);
		var showMembers = ""
		let showMember = chunk(allMembers, 10)
		addTable(0);

		function makeAll(btnNum) {
			for (var j = 0; j < btnNum; j++) {
				let theBtn = '<button type="button" class="pageBtn" value="' + (Number(j) + 1) + '">' + (Number(j) + 1) + '</button>'
				$('#allBtn').append(theBtn);
			}

		}

		function addTable(x) {

			$('#listTable').html("");
			let theMembers = showMember[x];
			for (var i = 0; i < theMembers.length; i++) {


				let members = `<tr>
								<td>${theMembers[i]['first-name']}</td>
								<td>${theMembers[i]['last-name']}</td>
								<td>${theMembers[i]['gender']}</td>
								<td>${theMembers[i]['birth']}</td>
								<td>${theMembers[i]['address']}</td>
								<td>${theMembers[i]['postcode']}</td>
								<td>${theMembers[i]['membership-number']}</td>
								<td>${theMembers[i]['member-type']}</td>
								<td>${theMembers[i]['join-date']}</td>
								<td>${theMembers[i]['subscription-month']}</td>
								</tr>`
				$('#listTable').append(members);				
			}}
			makeAll(showMember.length);

		$('.pageBtn').click(function(){
			$this = $(this)
			addTable(Number($this.val()) - 1)
		})
	})


</script>
</html>